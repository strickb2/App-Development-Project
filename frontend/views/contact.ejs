<!doctype html>
<html lang="en">
    <head>
        <%- include('partials/head'); -%>
    </head>

    <body class="bg-secondary">
        <!-- Navbar -->
        <%- include('partials/header'); -%>
        <!-- Page Heading -->
        <div class="container">
            <div class="col-lg-12 col-md-12 mx-auto py-4 text-center">
                <h2 class="fw-light text-white"><b>Contact Us</b></h2>
                <p class="lead text-white">Below is a form you can use to contact us if you have any issues with your order.</p>
                <hr class="text-white">
            </div>

            <!-- Contact Form -->
            <form id="contact-form" class="needs-validation" novalidate>
                <!-- Email Address -->
                <label for="email" class="text-white">Email Address</label>
                <input type="text" class="form-control" id="email" placeholder="" required>
                <small class="text-white">Please enter your email so we can get back to you.</small>

                <!-- Message -->
                <br><br>
                <label for="contact" class="text-white">Contact Form</label>
                <textarea class="form-control form-control-lg" id="contact" placeholder="" required></textarea>
                <small class="text-white">Please enter your feedback here.</small>

                <!-- Submit Form -->
                <br><br>
                <button class="btn btn-primary btn-lg btn-block" type="submit">Submit</button>
            </form>
        </div>

        <!-- JavaScript Segment -->
        <script type="module">
            import { navLoad } from "/javascripts/partials/nav.js"
            
            let myform = document.getElementById("contact-form"); // Get the form
            // User submits message
            myform.addEventListener('submit', function(e) {
                e.preventDefault();
                let email = document.getElementById("email").value;
                let contact = document.getElementById("contact").value;
                // If each of the forms are filled with valid input, the message is sent.
                if (email && contact) {
                    alert("Message Submitted!");
                    window.location.href = "/contact";
                } else {
                    //  If they are empty, an alert prompts the user to fill them.
                    if (email == '' && contact) {
                        alert("Please enter Email Address");
                    }
                    if (contact == '' && email) {
                        alert("Please enter Message");
                    }
                    if (contact == '' && email == '') {
                        alert("Please enter Email Address and Message")
                    }
                }

            });

        </script>
    </body>
</html>